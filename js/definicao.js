function voltarPaginaInicial(){
    window.location.href="index.html";
}
const palavras = {
    "sensato": {
        "pt-br": {
            "palavra": "sensato",
            "definicao": "É um adjetivo que descreve alguém ou algo que demonstra bom senso, prudência e discernimento. Uma pessoa sensata age de forma ponderada, considerando as consequências de suas ações e tomando decisões que são racionais e equilibradas. Ser sensato implica evitar exageros e impulsos, escolhendo caminhos que são justos e apropriados às circunstâncias.",
            "sinonimos": "Prudente, razoável, ajuizado, ponderado, equilibrado.",
            "frases": "-Ela fez uma escolha sensata ao recusar a oferta arriscada. \n-É sensato ouvir os conselhos dos mais experientes antes de tomar uma decisão importante."
        },
        "en": {
            "palavra": "sensible",
            "definicao": "It is an adjective that describes someone or something that demonstrates good sense, prudence, and discernment. A sensible person acts thoughtfully, considering the consequences of their actions and making decisions that are rational and balanced. Being sensible implies avoiding excesses and impulses, choosing paths that are fair and appropriate to the circumstances.",
            "sinonimos": "Prudent, reasonable, judicious, balanced, level-headed.",
            "frases": "-She made a sensible choice by declining the risky offer. \n-It is sensible to heed the advice of more experienced individuals before making an important decision."
        },
        "fr": {
            "palavra": "sensé",
            "definicao": "C'est un adjectif qui décrit quelqu'un ou quelque chose qui fait preuve de bon sens, de prudence et de discernement. Une personne sensée agit de manière réfléchie, en tenant compte des conséquences de ses actions et en prenant des décisions rationnelles et équilibrées. Être sensé implique d'éviter les excès et les impulsions, en choisissant des voies qui sont justes et appropriées aux circonstances.",
            "sinonimos": "Prudent, raisonnable, avisé, équilibré, réfléchi.",
            "frases": "-Elle a fait un choix sensé en refusant l'offre risquée. \n-Il est sensé d'écouter les conseils des personnes plus expérimentées avant de prendre une décision importante."
        },
        "es": {
            "palavra": "sensato",
            "definicao": "Es un adjetivo que describe a alguien o algo que demuestra buen sentido, prudencia y discernimiento. Una persona sensata actúa de manera reflexiva, considerando las consecuencias de sus acciones y tomando decisiones que son racionales y equilibradas. Ser sensato implica evitar excesos e impulsos, eligiendo caminos que son justos y apropiados a las circunstancias.",
            "sinonimos": "Prudente, razonable, juicioso, equilibrado.",
            "frases": "-Ella hizo una elección sensata al rechazar la oferta arriesgada. \n-Es sensato escuchar los consejos de las personas más experimentadas antes de tomar una decisión importante."
        },
        "de": {
            "palavra": "vernünftig",
            "definicao": "Es ist ein Adjektiv, das jemanden oder etwas beschreibt, der oder das gesundem Menschenverstand, Vorsicht und Urteilsvermögen zeigt. Eine vernünftige Person handelt überlegt, berücksichtigt die Konsequenzen ihres Handelns und trifft Entscheidungen, die rational und ausgewogen sind. Vernünftig zu sein bedeutet, Exzesse und Impulse zu vermeiden und Wege zu wählen, die fair und angemessen für die Umstände sind.",
            "sinonimos": "Vorsichtig, vernünftig, weise, ausgewogen, überlegt.",
            "frases": "-Sie traf eine vernünftige Entscheidung, indem sie das riskante Angebot ablehnte. \n-Es ist vernünftig, die Ratschläge erfahrener Personen zu beachten, bevor man eine wichtige Entscheidung trifft."
        }
    },
    "austeridade": {
        "pt-br": {
            "palavra": "austeridade",
            "definicao": "Austeridade é um substantivo que se refere à qualidade de ser severo ou rigoroso, especialmente em relação ao comportamento, estilo de vida ou política econômica. Pode também indicar simplicidade e falta de luxos.",
            "sinonimos": "Severidade, rigor, sobriedade, simplicidade, frugalidade.",
            "frases": "-A austeridade da decoração refletia a seriedade da ocasião. \n-O governo implementou medidas de austeridade para controlar o déficit público."
        },
        "en": {
            "palavra": "austerity",
            "definicao": "Austerity is a noun that refers to the quality of being severe or strict, especially in relation to behavior, lifestyle, or economic policy. It can also indicate simplicity and lack of luxuries.",
            "sinonimos": "Severity, rigor, sobriety, simplicity, frugality.",
            "frases": "-The austerity of the decor reflected the seriousness of the occasion. \n-The government implemented austerity measures to control the public deficit."
        },
        "fr": {
            "palavra": "austerité",
            "definicao": "L'austérité est un nom qui fait référence à la qualité d'être sévère ou strict, notamment en ce qui concerne le comportement, le mode de vie ou la politique économique. Elle peut aussi indiquer simplicité et absence de luxe.",
            "sinonimos": "Sévérité, rigueur, sobriété, simplicité, frugalité.",
            "frases": "-L'austérité de la décoration reflétait le sérieux de l'occasion. \n-Le gouvernement a mis en œuvre des mesures d'austérité pour contrôler le déficit public."
        },
        "es": {
            "palavra": "austeridad",
            "definicao": "La austeridad es un sustantivo que se refiere a la cualidad de ser severo o riguroso, especialmente en relación con el comportamiento, el estilo de vida o la política económica. También puede indicar simplicidad y falta de lujos.",
            "sinonimos": "Severidad, rigor, sobriedad, simplicidad, frugalidad.",
            "frases": "-La austeridad de la decoración reflejaba la seriedad de la ocasión. \n-El gobierno implementó medidas de austeridad para controlar el déficit público."
        },
        "de": {
            "palavra": "austerität",
            "definicao": "Austerität ist ein Substantiv, das sich auf die Eigenschaft bezieht, streng oder rigoros zu sein, insbesondere in Bezug auf Verhalten, Lebensstil oder Wirtschaftspolitik. Es kann auch Einfachheit und Mangel an Luxus anzeigen.",
            "sinonimos": "Strenge, Rigor, Nüchternheit, Einfachheit, Sparsamkeit.",
            "frases": "-Die Austerität der Dekoration spiegelte die Ernsthaftigkeit des Anlasses wider. \n-Die Regierung führte Austeritätsmaßnahmen ein, um das öffentliche Defizit zu kontrollieren."
        }
    },
    "capacidade": {
        "pt-br": {
            "palavra": "capacidade",
            "definicao": "Capacidade é um substantivo que indica a habilidade ou aptidão para realizar algo. Também pode se referir ao volume ou quantidade que algo pode conter.",
            "sinonimos": "Habilidade, aptidão, competência, potencial, talento.",
            "frases": "-A capacidade de resolver problemas complexos é essencial em um engenheiro. \n-O auditório tem capacidade para 500 pessoas."
        },
        "en": {
            "palavra": "capacity",
            "definicao": "Capacity is a noun that indicates the ability or aptitude to perform something. It can also refer to the volume or amount that something can hold.",
            "sinonimos": "Ability, aptitude, competence, potential, talent.",
            "frases": "-The capacity to solve complex problems is essential for an engineer. \n-The auditorium has a capacity of 500 people."
        },
        "fr": {
            "palavra": "capacité",
            "definicao": "La capacité est un nom qui indique l'habileté ou l'aptitude à réaliser quelque chose. Elle peut également faire référence au volume ou à la quantité que quelque chose peut contenir.",
            "sinonimos": "Aptitude, compétence, potentiel, talent.",
            "frases": "-La capacité à résoudre des problèmes complexes est essentielle pour un ingénieur. \n-L'auditorium a une capacité de 500 personnes."
        },
        "es": {
            "palavra": "capacidad",
            "definicao": "Capacidad es un sustantivo que indica la habilidad o aptitud para realizar algo. También puede referirse al volumen o cantidad que algo puede contener.",
            "sinonimos": "Habilidad, aptitud, competencia, potencial, talento.",
            "frases": "-La capacidad para resolver problemas complejos es esencial en un ingeniero. \n-El auditorio tiene capacidad para 500 personas."
        },
        "de": {
            "palavra": "kapazität",
            "definicao": "Kapazität ist ein Substantiv, das die Fähigkeit oder Eignung bezeichnet, etwas zu tun. Es kann auch das Volumen oder die Menge bezeichnen, die etwas fassen kann.",
            "sinonimos": "Fähigkeit, Eignung, Kompetenz, Potenzial, Talent.",
            "frases": "-Die Kapazität, komplexe Probleme zu lösen, ist für einen Ingenieur essenziell. \n-Das Auditorium hat eine Kapazität von 500 Personen."
        }
    },
};
const urlParams = new URLSearchParams(window.location.search);
const palavra = urlParams.get('palavra') || 'Palavra não encontrada';
let idioma = urlParams.get('lang') || 'pt-br'; // Padrão para português
console.log(palavra, idioma);
document.documentElement.lang = idioma;
if (palavra=="sensato" && idioma=="pt-br" || palavra=="sensible" && idioma=="en" || palavra=="sensato" && idioma=="es" || palavra=="sensé" && idioma=="fr" || palavra=="vernünftig" && idioma=="de"){
    palavraEmPortugues='sensato';
}
else if (palavra=="austeridade" && idioma=="pt-br" || palavra=="austerity" && idioma=="en" || palavra=="austeridad" && idioma=="es" || palavra=="austerité" && idioma=="fr"|| palavra=="austerität" && idioma=="de"){
    palavraEmPortugues='austeridade';
}
else if (palavra=="capacidade" && idioma=="pt-br" || palavra=="capacity" && idioma=="en"|| palavra=="capacidad" && idioma=="es" || palavra=="capacité" && idioma=="fr"|| palavra=="kapazität" && idioma=="de"){
    palavraEmPortugues='capacidade';
}
async function translatePageContent() {
    const h2Element = document.querySelector('h2');
    if (palavra && typeof palavraEmPortugues!=='undefined') {
        const translatedText = palavras[palavraEmPortugues]?.[idioma]?.definicao || "Definição não encontrada.";
        document.getElementById('definicao').innerHTML = translatedText.replace(/\n/g, '<br>') || "Definição não encontrada.";
        document.getElementById('sinonimos').innerHTML = palavras[palavraEmPortugues]?.[idioma]?.sinonimos.replace(/\n/g, '<br>') || "Sinônimos não encontrados.";
        document.getElementById('frases').innerHTML = palavras[palavraEmPortugues]?.[idioma]?.frases.replace(/\n/g, '<br>') || "Frases não encontradas.";
    }
}

document.addEventListener('DOMContentLoaded', async function() {
    if (idioma === "pt-br") {
        document.getElementById("definicaoId").innerText = "Definição";
        document.getElementById("sinonimosId").innerText = "Sinônimos";
        document.getElementById("frasesId").innerText = "Frases";
        
        document.querySelector('[value="pt-br"]').innerText = "Português";
        document.querySelector('[value="en"]').innerText = "Inglês";
        document.querySelector('[value="fr"]').innerText = "Francês";
        document.querySelector('[value="es"]').innerText = "Espanhol";
        document.querySelector('[value="de"]').innerText = "Alemão";
    } else if (idioma === "en") {
        document.getElementById("definicaoId").innerText = "Definition";
        document.getElementById("sinonimosId").innerText = "Synonyms";
        document.getElementById("frasesId").innerText = "Sentences";

        document.querySelector('[value="pt-br"]').innerText = "Portuguese";
        document.querySelector('[value="en"]').innerText = "English";
        document.querySelector('[value="fr"]').innerText = "French";
        document.querySelector('[value="es"]').innerText = "Spanish";
        document.querySelector('[value="de"]').innerText = "German";
    } else if (idioma === "fr") {
        document.getElementById("definicaoId").innerText = "Définition";
        document.getElementById("sinonimosId").innerText = "Synonymes";
        document.getElementById("frasesId").innerText = "Phrases";

        document.querySelector('[value="pt-br"]').innerText = "Portugais";
        document.querySelector('[value="en"]').innerText = "Anglais";
        document.querySelector('[value="fr"]').innerText = "Français";
        document.querySelector('[value="es"]').innerText = "Espagnol";
        document.querySelector('[value="de"]').innerText = "Allemand";
    } else if (idioma === "es") {
        document.getElementById("definicaoId").innerText = "Definición";
        document.getElementById("sinonimosId").innerText = "Sinónimos";
        document.getElementById("frasesId").innerText = "Frases";

        document.querySelector('[value="pt-br"]').innerText = "Portugués";
        document.querySelector('[value="en"]').innerText = "Inglés";
        document.querySelector('[value="fr"]').innerText = "Francés";
        document.querySelector('[value="es"]').innerText = "Español";
        document.querySelector('[value="de"]').innerText = "Alemán";
    } else if (idioma === "de") {
        document.getElementById("definicaoId").innerText = "Definition";
        document.getElementById("sinonimosId").innerText = "Synonyme";
        document.getElementById("frasesId").innerText = "Sätze";
        
        document.querySelector('[value="pt-br"]').innerText = "Portugiesisch";
        document.querySelector('[value="en"]').innerText = "Englisch";
        document.querySelector('[value="fr"]').innerText = "Französisch";
        document.querySelector('[value="es"]').innerText = "Spanisch";
        document.querySelector('[value="de"]').innerText = "Deutsch";
    }
    function traduzir(){
        // Definir o valor da palavra no h2 e guardar o texto original
        const h2Element = document.querySelector('h2');
        h2Element.textContent = palavra;

        if (typeof palavraEmPortugues !== 'undefined'){
            document.getElementById('palavraId').textContent = palavras[palavraEmPortugues][idioma]['palavra'];
            document.getElementById('definicao').textContent = palavras[palavraEmPortugues][idioma]['definicao'];
            document.getElementById('sinonimos').textContent = palavras[palavraEmPortugues][idioma]['sinonimos'];
            document.getElementById('frases').innerHTML = palavras[palavraEmPortugues][idioma]['frases'].replace(/\n/g, '<br>');
        } else {
            document.getElementById('definicao').textContent = "Definição não encontrada.";
            document.getElementById('sinonimos').textContent = "Sinônimos não encontrados.";
            document.getElementById('frases').textContent = "Frases não encontradas.";
        }
    }
    traduzir();
    // Atualizar o idioma do select
    document.getElementById('idioma').value = idioma;

    // Traduzir o conteúdo da página
    await translatePageContent(idioma);

    // Atualizar as opções do select
    function updateSelectOptions(idioma) {
        document.querySelectorAll('#idioma option').forEach(function(option) {
            const novoTexto = option.getAttribute('data-' + idioma);
            if (novoTexto) {
                option.textContent = novoTexto;
            }
        });
    }


    updateSelectOptions();

    // Adicionar o evento para mudar o idioma
    document.getElementById('idioma').addEventListener('change', async function() {
        const novoIdioma = document.getElementById('idioma').value;
        document.documentElement.lang = novoIdioma;
        await translatePageContent(novoIdioma); // Atualizar tradução da página
        window.history.replaceState(null, '', `?palavra=${encodeURIComponent(palavra)}&lang=${novoIdioma}`);
        idioma=novoIdioma;
        if(idioma=='en'){
            document.getElementById("auto-falante").style.display = "none";
            document.getElementById("sound-container-US-UK").style.display = "flex";
        }
        else{
            document.getElementById("auto-falante").style.display = "flex";
            document.getElementById("sound-container-US-UK").style.display = "none";
        }
        translatePageContent();
        traduzir();
        if (novoIdioma === "pt-br") {
            document.getElementById("definicaoId").innerText = "Definição";
            document.getElementById("sinonimosId").innerText = "Sinônimos";
            document.getElementById("frasesId").innerText = "Frases";
            
            document.querySelector('[value="pt-br"]').innerText = "Português";
            document.querySelector('[value="en"]').innerText = "Inglês";
            document.querySelector('[value="fr"]').innerText = "Francês";
            document.querySelector('[value="es"]').innerText = "Espanhol";
            document.querySelector('[value="de"]').innerText = "Alemão";
        } else if (novoIdioma === "en") {
            document.getElementById("definicaoId").innerText = "Definition";
            document.getElementById("sinonimosId").innerText = "Synonyms";
            document.getElementById("frasesId").innerText = "Sentences";

            document.querySelector('[value="pt-br"]').innerText = "Portuguese";
            document.querySelector('[value="en"]').innerText = "English";
            document.querySelector('[value="fr"]').innerText = "French";
            document.querySelector('[value="es"]').innerText = "Spanish";
            document.querySelector('[value="de"]').innerText = "German";
        } else if (novoIdioma === "fr") {
            document.getElementById("definicaoId").innerText = "Définition";
            document.getElementById("sinonimosId").innerText = "Synonymes";
            document.getElementById("frasesId").innerText = "Phrases";

            document.querySelector('[value="pt-br"]').innerText = "Portugais";
            document.querySelector('[value="en"]').innerText = "Anglais";
            document.querySelector('[value="fr"]').innerText = "Français";
            document.querySelector('[value="es"]').innerText = "Espagnol";
            document.querySelector('[value="de"]').innerText = "Allemand";
        } else if (novoIdioma === "es") {
            document.getElementById("definicaoId").innerText = "Definición";
            document.getElementById("sinonimosId").innerText = "Sinónimos";
            document.getElementById("frasesId").innerText = "Frases";

            document.querySelector('[value="pt-br"]').innerText = "Portugués";
            document.querySelector('[value="en"]').innerText = "Inglés";
            document.querySelector('[value="fr"]').innerText = "Francés";
            document.querySelector('[value="es"]').innerText = "Español";
            document.querySelector('[value="de"]').innerText = "Alemán";
        } else if (novoIdioma === "de") {
            document.getElementById("definicaoId").innerText = "Definition";
            document.getElementById("sinonimosId").innerText = "Synonyme";
            document.getElementById("frasesId").innerText = "Sätze";
            
            document.querySelector('[value="pt-br"]').innerText = "Portugiesisch";
            document.querySelector('[value="en"]').innerText = "Englisch";
            document.querySelector('[value="fr"]').innerText = "Französisch";
            document.querySelector('[value="es"]').innerText = "Spanisch";
            document.querySelector('[value="de"]').innerText = "Deutsch";
        }
    });
});
if(idioma='en'){
    document.getElementById("auto-falante").style.display = "none";
    document.getElementById("sound-container-US-UK").style.display = "flex";
}
else{
    ocument.getElementById("auto-falante").style.display = "flex";
    document.getElementById("sound-container-US-UK").style.display = "none";
}
function ativarPronuncia(){
    const utterance = new SpeechSynthesisUtterance(palavra);
    utterance.lang = idioma; // Define o idioma da pronúncia
    window.speechSynthesis.speak(utterance);
}
function ativarPronunciaUS(){
    const utterance = new SpeechSynthesisUtterance(palavra);
    utterance.lang = 'en-US'; // Define o idioma da pronúncia
    window.speechSynthesis.speak(utterance);
}
function ativarPronunciaUK(){
    const utterance = new SpeechSynthesisUtterance(palavra);
    utterance.lang = 'en-GB'; // Define o idioma da pronúncia
    window.speechSynthesis.speak(utterance);
}
